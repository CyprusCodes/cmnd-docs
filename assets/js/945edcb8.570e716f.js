"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[1295],{9351:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>a,toc:()=>d});var s=n(4848),r=n(8453);const o={id:"memory",title:"Memory Object",description:"How to use memory objects to pass data between tools and enhance assistant behavior.",sidebar_position:3},i="Memory Object",a={id:"cmnd-custom-tools/configuration_options/memory",title:"Memory Object",description:"How to use memory objects to pass data between tools and enhance assistant behavior.",source:"@site/docs/cmnd-custom-tools/configuration_options/memory-object.md",sourceDirName:"cmnd-custom-tools/configuration_options",slug:"/cmnd-custom-tools/configuration_options/memory",permalink:"/docs/cmnd-custom-tools/configuration_options/memory",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:3,frontMatter:{id:"memory",title:"Memory Object",description:"How to use memory objects to pass data between tools and enhance assistant behavior.",sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Rerun",permalink:"/docs/cmnd-custom-tools/configuration_options/rerun"},next:{title:"Prerequisites",permalink:"/docs/cmnd-custom-tools/configuration_options/prerequisites"}},l={},d=[{value:"What Is It For?",id:"what-is-it-for",level:2},{value:"Using Memory in Tools",id:"using-memory-in-tools",level:2},{value:"Selective Data Retrieval",id:"selective-data-retrieval",level:2},{value:"Using Memory in System Prompts (with EJS)",id:"using-memory-in-system-prompts-with-ejs",level:2},{value:"Example: Greet the User by Name",id:"example-greet-the-user-by-name",level:3},{value:"Example: Include Email and Date",id:"example-include-email-and-date",level:3},{value:"Summary",id:"summary",level:2}];function m(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"memory-object",children:"Memory Object"})}),"\n",(0,s.jsx)(t.p,{children:"Memory objects allow you to pass and persist information across multiple tools within a single conversation. This is useful for carrying large context (like datasets or structured responses) without inflating token usage or repeating logic."}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"what-is-it-for",children:"What Is It For?"}),"\n",(0,s.jsx)(t.p,{children:"Use memory when:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"You want one tool to pass structured data to another"}),"\n",(0,s.jsx)(t.li,{children:"You want to store intermediate results (e.g., a dataset or summary)"}),"\n",(0,s.jsx)(t.li,{children:"You want to insert dynamic values (like a name or date) into a chatbot prompt"}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"using-memory-in-tools",children:"Using Memory in Tools"}),"\n",(0,s.jsx)(t.p,{children:"To use memory in your tool, add it as a parameter and return it in the response. Here\u2019s an example of fetching and storing the Titanic dataset:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",metastring:'title="Python" showLineNumbers',children:'def fetch_titanic_data(memory: dict):\n    """\n    Fetch Titanic dataset from GitHub CSV.\n    """\n    github_url = "https://raw.githubusercontent.com/datasciencedojo/datasets/master/titanic.csv"\n    response = requests.get(github_url)\n    df = pd.read_csv(io.StringIO(response.text))\n\n    memory["titanic_dataframe"] = df\n\n    return {\n        "responseString": f"Successfully fetched {len(df)} records",\n        "memory": memory\n    }\n'})}),"\n",(0,s.jsx)(t.p,{children:"Later in the same conversation, another tool can use the stored data:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",metastring:'title="Python"',children:'def count_survivors(memory: dict):\n    if "titanic_dataframe" not in memory:\n        return {\n            "responseString": "No Titanic data in memory. Fetch data first.",\n            "memory": memory\n        }\n\n    df = memory["titanic_dataframe"]\n    survivors_count = len(df[df[\'Survived\'] == 1])\n    total_passengers = len(df)\n\n    return {\n        "Number of total survivors": survivors_count,\n        "Total number of passengers": total_passengers\n    }\n'})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"selective-data-retrieval",children:"Selective Data Retrieval"}),"\n",(0,s.jsx)(t.p,{children:"You can extract only the relevant parts of a dataset and send them to the LLM:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-python",metastring:'title="Python" showLineNumbers',children:'def get_passenger_details(memory: dict):\n    if "titanic_dataframe" not in memory:\n        return {\n            "responseString": "Please load the dataset first",\n            "memory": memory\n        }\n\n    fares_info = memory["titanic_dataframe"][[\'Name\', \'Sex\', \'Age\', \'Fare\']]\n    return str(fares_info)\n'})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"using-memory-in-system-prompts-with-ejs",children:"Using Memory in System Prompts (with EJS)"}),"\n",(0,s.jsxs)(t.p,{children:["You can also use values from memory directly inside the assistant\u2019s system prompt using ",(0,s.jsx)(t.strong,{children:"EJS templating"})," (Embedded JavaScript). This makes your assistants more dynamic and personalized."]}),"\n",(0,s.jsx)(t.h3,{id:"example-greet-the-user-by-name",children:"Example: Greet the User by Name"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-txt",children:'You are a helpful assistant responsible for recommending suitable supplements for bodybuilding.\nWhen the user starts a conversation, greet them by saying:\n"Hi, <%= memory.name %>!" and then provide a list of recommended supplements.\n'})}),"\n",(0,s.jsx)(t.h3,{id:"example-include-email-and-date",children:"Example: Include Email and Date"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-txt",children:"You are a helpful assistant designed to help users write and send emails.\nWhen the user asks you to draft an email, use their email address <%= memory.email %>\nand include the current date: <%= new Date().toDateString() %>\n"})}),"\n",(0,s.jsx)(t.p,{children:"EJS expressions support inline JavaScript, which gives you flexibility to format dates, use conditional logic, or build richer prompts."}),"\n",(0,s.jsxs)(t.p,{children:["For full syntax options, refer to the ",(0,s.jsx)(t.a,{href:"https://ejs.co/",children:"EJS Documentation"}),"."]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.admonition,{title:"Best Practices",type:"tip",children:(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Always include ",(0,s.jsx)(t.code,{children:'"memory"'})," in the tool\u2019s parameters if it needs to read or write to memory."]}),"\n",(0,s.jsx)(t.li,{children:"Return the updated memory object in your tool\u2019s response."}),"\n",(0,s.jsx)(t.li,{children:"Keep memory clean and minimal \u2014 avoid storing unnecessary or overly large data."}),"\n",(0,s.jsx)(t.li,{children:"Use memory to make assistants smarter across multi-step workflows."}),"\n"]})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"summary",children:"Summary"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Memory helps tools share context during a conversation."}),"\n",(0,s.jsx)(t.li,{children:"You can persist and retrieve structured data across tools."}),"\n",(0,s.jsx)(t.li,{children:"Memory values can be injected into prompts using EJS for personalized, dynamic behavior."}),"\n",(0,s.jsx)(t.li,{children:"It's a key part of building multi-step, stateful assistants in CMND.ai."}),"\n"]})]})}function c(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>a});var s=n(6540);const r={},o=s.createContext(r);function i(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);