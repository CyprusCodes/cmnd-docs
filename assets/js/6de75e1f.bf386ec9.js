"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[9882],{9885:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>i,toc:()=>d});var r=t(4848),s=t(8453);const a={sidebar_position:5},o="UI Tools",i={id:"CMND React sdk/ui_tools",title:"UI Tools",description:"Introduction",source:"@site/docs/CMND React sdk/ui_tools.md",sourceDirName:"CMND React sdk",slug:"/CMND React sdk/ui_tools",permalink:"/docs/CMND React sdk/ui_tools",draft:!1,unlisted:!1,editUrl:"https://github.com/CyprusCodes/cmnd-docs/tree/main/docs/CMND React sdk/ui_tools.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Memory Management",permalink:"/docs/CMND React sdk/memory"},next:{title:"Embed Widget",permalink:"/docs/category/embed-widget"}},l={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Definition",id:"definition",level:2},{value:"Key Properties",id:"key-properties",level:2},{value:"Types of Custom UI Tools",id:"types-of-custom-ui-tools",level:3},{value:"Implementation Examples",id:"implementation-examples",level:2},{value:"Example 1: Background Color Tool",id:"example-1-background-color-tool",level:3},{value:"Example 2: Username Input Tool",id:"example-2-username-input-tool",level:3},{value:"Example 3: Graph Plotting Tool",id:"example-3-graph-plotting-tool",level:3},{value:"Example 4: Dynamic Prompt Tool",id:"example-4-dynamic-prompt-tool",level:3},{value:"Example 5: Chat Notification Tool",id:"example-5-chat-notification-tool",level:3},{value:"Usage",id:"usage",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"ui-tools",children:"UI Tools"})}),"\n",(0,r.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsx)(n.p,{children:"The CMND React SDK provides support for UI Tools, enabling developers to create interactive components that can be integrated into the chatbot interface. These tools can either capture user input or simply display information, and can be rendered in different locations within the application."}),"\n",(0,r.jsx)(n.h2,{id:"definition",children:"Definition"}),"\n",(0,r.jsxs)(n.p,{children:["A UI Tool is defined as a specialized component that implements the ",(0,r.jsx)(n.code,{children:"CMNDChatbotUITool"})," interface. Each tool consists of configuration properties and a ",(0,r.jsx)(n.code,{children:"runCmd"})," function that determines its behavior and rendering logic."]}),"\n",(0,r.jsx)(n.h2,{id:"key-properties",children:"Key Properties"}),"\n",(0,r.jsx)(n.p,{children:"Each UI Tool must implement the following key properties:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"name"}),": Unique identifier for the tool"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"description"}),": Brief description of the tool's functionality"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"category"})," and ",(0,r.jsx)(n.code,{children:"subcategory"}),": Classification for organization"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"dangerous"}),": Boolean indicating if the tool could have potentially harmful effects"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"argumentSchema"}),": JSON Schema defining the expected arguments"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"capturesUserInput"}),": Boolean indicating if the tool captures user input"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"runCmd"}),": Function that implements the tool's logic and returns/renders the component"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"types-of-custom-ui-tools",children:"Types of Custom UI Tools"}),"\n",(0,r.jsx)(n.p,{children:"There are six main variations of UI tools that can be implemented:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Component Without Input Capture"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Returns a React component"}),"\n",(0,r.jsx)(n.li,{children:"Does not capture user input"}),"\n",(0,r.jsx)(n.li,{children:"Can be rendered anywhere in the application"}),"\n",(0,r.jsx)(n.li,{children:"Example: Display components, information panels"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Component With Input Capture"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Returns a React component"}),"\n",(0,r.jsx)(n.li,{children:"Captures and processes user input"}),"\n",(0,r.jsx)(n.li,{children:"Can be rendered anywhere in the application"}),"\n",(0,r.jsx)(n.li,{children:"Example: Form components, search interfaces"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Chat Message Card With Input (Using Ref)"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Rendered directly in the chat box as a message card"}),"\n",(0,r.jsx)(n.li,{children:"Captures user input"}),"\n",(0,r.jsx)(n.li,{children:"Uses ref for DOM manipulation"}),"\n",(0,r.jsx)(n.li,{children:"Example: In-chat forms, interactive cards"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Chat Message Card Without Input (Using Ref)"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Rendered directly in the chat box as a message card"}),"\n",(0,r.jsx)(n.li,{children:"Does not capture user input"}),"\n",(0,r.jsx)(n.li,{children:"Uses ref for DOM manipulation"}),"\n",(0,r.jsx)(n.li,{children:"Example: Status displays, confirmation messages"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"External Component Without Input"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Not rendered in the chat box"}),"\n",(0,r.jsx)(n.li,{children:"Does not capture user input"}),"\n",(0,r.jsx)(n.li,{children:"Can affect the application state"}),"\n",(0,r.jsx)(n.li,{children:"Example: Background color changer, theme switcher"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"External Component With Input"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Not rendered in the chat box"}),"\n",(0,r.jsx)(n.li,{children:"Captures and processes user input"}),"\n",(0,r.jsx)(n.li,{children:"Can affect the application state"}),"\n",(0,r.jsx)(n.li,{children:"Example: Global settings panel, configuration interface"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"implementation-examples",children:"Implementation Examples"}),"\n",(0,r.jsx)(n.h3,{id:"example-1-background-color-tool",children:"Example 1: Background Color Tool"}),"\n",(0,r.jsx)(n.p,{children:"This tool demonstrates a simple UI tool that changes the page background color without capturing user input:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'const BackgroundColorTool: CMNDChatbotUITool = {\n  name: "change_background_color",\n  description: "Changes the background color of the page",\n  category: "UI",\n  subcategory: "BG",\n  dangerous: false,\n  associatedCommands: [],\n  prerequisites: [],\n  argumentSchema: {\n    type: "object",\n    properties: {\n      bgColor: {\n        type: "string",\n        minLength: 1,\n        errorMessage: {\n          required: "Background Color is required",\n        },\n      },\n    },\n    required: ["bgColor"],\n  },\n  rerun: true,\n  rerunWithDifferentParameters: true,\n  capturesUserInput: false,\n  runCmd: ({ functionArgs, previousRunResults, captureResults }, ref) => {\n    const { bgColor } = functionArgs;\n    const messageContainer = ref;\n    if (messageContainer) {\n      messageContainer.current.innerHTML = `Background color changed to ${bgColor}`;\n    }\n    document.body.style.backgroundColor = bgColor;\n    if (!previousRunResults) {\n      captureResults(`Background color changed to ${bgColor}`);\n    }\n  },\n};\n'})}),"\n",(0,r.jsx)(n.h3,{id:"example-2-username-input-tool",children:"Example 2: Username Input Tool"}),"\n",(0,r.jsx)(n.p,{children:"This tool demonstrates a UI tool that captures user input through a form component:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'export const UsernameTool: CMNDChatbotUITool = {\n  name: "capture_username",\n  description: "Captures username through an input field",\n  category: "UI",\n  subcategory: "Input",\n  dangerous: false,\n  associatedCommands: [],\n  prerequisites: [],\n  argumentSchema: {\n    type: "object",\n    properties: {\n      placeholder: {\n        type: "string",\n        default: "Enter username",\n      },\n    },\n  },\n  rerun: true,\n  rerunWithDifferentParameters: true,\n  capturesUserInput: true,\n  runCmd: ({ functionArgs, captureResults, previousRunResults }, ref) => {\n    const UsernameComponent = () => {\n      const [username, setUsername] = useState(previousRunResults || "");\n\n      const handleSubmit = () => {\n        if (username.trim()) {\n          if (captureResults) {\n            captureResults(username);\n          }\n          if (ref?.current) {\n            ref.current.innerHTML = `Username set to: ${username}`;\n          }\n        }\n      };\n\n      return (\n        <div style={{ display: "flex", gap: "8px" }}>\n          <input\n            type="text"\n            value={username}\n            onChange={(e) => setUsername(e.target.value)}\n            placeholder={functionArgs?.placeholder || "Enter username"}\n            style={{\n              padding: "4px 8px",\n              border: "1px solid #ccc",\n              borderRadius: "4px",\n              color: "#333",\n            }}\n          />\n          <button\n            onClick={handleSubmit}\n            style={{\n              padding: "4px 12px",\n              backgroundColor: "#007bff",\n              color: "white",\n              border: "none",\n              borderRadius: "4px",\n              cursor: "pointer",\n            }}\n          >\n            Set Username\n          </button>\n        </div>\n      );\n    };\n\n    return <UsernameComponent />;\n  },\n};\n'})}),"\n",(0,r.jsx)(n.h3,{id:"example-3-graph-plotting-tool",children:"Example 3: Graph Plotting Tool"}),"\n",(0,r.jsx)(n.p,{children:"This tool demonstrates a UI tool that plots a graph based on the function argument data:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'export const PlotGraphTool: CMNDChatbotUITool = {\n  name: "plot_graph",\n  description: "Plots a graph using Recharts",\n  category: "visualization",\n  dangerous: false,\n  associatedCommands: [],\n  prerequisites: [],\n  argumentSchema: {\n    type: "object",\n    properties: {\n      type: {\n        type: "string",\n        enum: ["line", "bar", "pie", "doughnut"],\n        errorMessage: {\n          required: "Graph type is required",\n          enum: "Graph type must be one of: line, bar, pie, or doughnut",\n        },\n      },\n      data: {\n        type: "object",\n        properties: {\n          labels: {\n            type: "array",\n            items: { type: "string" },\n            errorMessage: {\n              required: "Labels for the graph are required",\n            },\n          },\n          datasets: {\n            type: "array",\n            items: {\n              type: "object",\n              properties: {\n                label: { type: "string" },\n                data: {\n                  type: "array",\n                  items: { type: "number" },\n                  errorMessage: {\n                    required: "Dataset values are required",\n                  },\n                },\n                backgroundColor: {\n                  type: "array",\n                  items: { type: "string" },\n                },\n                borderColor: {\n                  type: "array",\n                  items: { type: "string" },\n                },\n                borderWidth: { type: "number" },\n              },\n            },\n          },\n        },\n        required: ["labels", "datasets"],\n      },\n    },\n    required: ["type", "data"],\n  },\n  rerun: true,\n  rerunWithDifferentParameters: true,\n  capturesUserInput: true,\n\n  runCmd: ({ functionArgs, captureResults, previousRunResults }) => {\n    const GraphComponent = () => {\n      const { type, data } = functionArgs;\n\n      // Transform the data to Recharts format\n      const transformedData = data.labels.map((label, index) => ({\n        name: label,\n        ...data.datasets.reduce((acc, dataset) => {\n          acc[dataset.label] = dataset.data[index];\n          return acc;\n        }, {}),\n      }));\n\n      const renderGraph = () => {\n        switch (type) {\n          case "line":\n            return (\n              <ResponsiveContainer width={400} height={400}>\n                <LineChart data={transformedData}>\n                  <CartesianGrid strokeDasharray="3 3" />\n                  <XAxis dataKey="name" />\n                  <YAxis />\n                  <Tooltip />\n                  <Legend />\n                  {data.datasets.map((dataset, index) => (\n                    <Line\n                      isAnimationActive={false}\n                      key={dataset.label}\n                      type="monotone"\n                      dataKey={dataset.label}\n                      stroke={\n                        dataset.borderColor?.[0] ||\n                        `#${Math.floor(Math.random() * 16777215).toString(16)}`\n                      }\n                    />\n                  ))}\n                </LineChart>\n              </ResponsiveContainer>\n            );\n\n          case "bar":\n            return (\n              <ResponsiveContainer width={400} height={400}>\n                <BarChart data={transformedData}>\n                  <CartesianGrid strokeDasharray="3 3" />\n                  <XAxis dataKey="name" />\n                  <YAxis />\n                  <Tooltip />\n                  <Legend />\n                  {data.datasets.map((dataset, index) => (\n                    <Bar\n                      isAnimationActive={false}\n                      key={dataset.label}\n                      dataKey={dataset.label}\n                      fill={\n                        dataset.backgroundColor?.[0] ||\n                        `#${Math.floor(Math.random() * 16777215).toString(16)}`\n                      }\n                    />\n                  ))}\n                </BarChart>\n              </ResponsiveContainer>\n            );\n\n          case "pie":\n          case "doughnut":\n            // For pie/doughnut, we need to transform data differently\n            const pieData = data.labels.map((label, index) => ({\n              name: label,\n              value: data.datasets[0].data[index],\n            }));\n\n            return (\n              <ResponsiveContainer width={400} height={400}>\n                <PieChart>\n                  <Pie\n                    isAnimationActive={false}\n                    data={pieData}\n                    dataKey="value"\n                    nameKey="name"\n                    cx="50%"\n                    cy="50%"\n                    innerRadius={type === "doughnut" ? 60 : 0}\n                    outerRadius={80}\n                    fill="#8884d8"\n                    label\n                  />\n                  <Tooltip />\n                  <Legend />\n                </PieChart>\n              </ResponsiveContainer>\n            );\n        }\n      };\n\n      if (captureResults && !previousRunResults) {\n        captureResults(`Graph of type ${type} rendered successfully`);\n      }\n\n      return (\n        <div className="w-full h-[400px] border rounded-lg p-4 bg-white">\n          {renderGraph()}\n        </div>\n      );\n    };\n\n    return <GraphComponent />;\n  },\n};\n'})}),"\n",(0,r.jsx)(n.h3,{id:"example-4-dynamic-prompt-tool",children:"Example 4: Dynamic Prompt Tool"}),"\n",(0,r.jsx)(n.p,{children:"This tool demonstrates a UI tool that dynamically generates prompts based on user input and predefined templates. It captures user input and uses it to create customized prompts that can be displayed within the chatbot interface or used for further processing."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'export const DynamicPromptTool: CMNDChatbotUITool = {\n  name: "dynamic_prompt",\n  description: "Prompts the user for any input with a custom message",\n  category: "UI",\n  subcategory: "Input",\n  dangerous: false,\n  associatedCommands: [],\n  prerequisites: [],\n  argumentSchema: {\n    type: "object",\n    properties: {\n      message: {\n        type: "string",\n        default: "Please enter a value:",\n      },\n      defaultValue: {\n        type: "string",\n        default: "",\n      },\n    },\n  },\n  rerun: true,\n  rerunWithDifferentParameters: true,\n  capturesUserInput: true,\n  runCmd: ({ functionArgs, captureResults, previousRunResults }, ref) => {\n    const message = functionArgs?.message || "Please enter a value:";\n    const defaultValue = functionArgs?.defaultValue || "";\n    let userInput = previousRunResults || "";\n    if (!previousRunResults) {\n      userInput = prompt(message, defaultValue);\n    }\n\n    if (userInput !== null && userInput.trim()) {\n      captureResults(userInput);\n      if (ref?.current) {\n        ref.current.innerHTML = `You entered: ${userInput}`;\n      }\n    }\n  },\n};\n'})}),"\n",(0,r.jsx)(n.h3,{id:"example-5-chat-notification-tool",children:"Example 5: Chat Notification Tool"}),"\n",(0,r.jsx)(n.p,{children:"This tool demonstrates a UI tool that triggers a toast within the chat interface. It does not capture user input but displays a toast to the user."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'export const ChatNotificationTool: CMNDChatbotUITool = {\n  name: "chat_notification",\n  description: "Displays a notification toast in the chat",\n  category: "UI",\n  subcategory: "Chat",\n  dangerous: false,\n  associatedCommands: [],\n  prerequisites: [],\n  argumentSchema: {\n    type: "object",\n    properties: {\n      type: {\n        type: "string",\n        enum: ["info", "success", "warning", "error"],\n        default: "info",\n      },\n      title: {\n        type: "string",\n        minLength: 1,\n      },\n      message: {\n        type: "string",\n        minLength: 1,\n      },\n      duration: {\n        type: "number",\n        default: 4000, // Default duration in milliseconds\n      },\n    },\n    required: ["title", "message"],\n  },\n  rerun: true,\n  rerunWithDifferentParameters: true,\n  capturesUserInput: false,\n  runCmd: ({ functionArgs, captureResults, previousRunResults }) => {\n    const { type = "info", title, message, duration = 4000 } = functionArgs;\n\n    const toastTypes = {\n      info: toast,\n      success: toast.success,\n      warning: toast,\n      error: toast.error,\n    };\n\n    if (!previousRunResults) {\n      toastTypes[type](`${title}: ${message}`, {\n        duration,\n      });\n      captureResults(`Notification displayed: ${title}: ${message}`);\n      return <div>Notification displayed</div>;\n    } else {\n      if (previousRunResults) {\n        return <div>Notification displayed</div>;\n      }\n    }\n  },\n};\n'})}),"\n",(0,r.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsxs)(n.p,{children:["To utilize the UI Tools with the CMND React SDK, pass the defined tools as a prop to the ",(0,r.jsx)(n.code,{children:"ChatProvider"})," component."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-typescript",children:'<ChatProvider\n  baseUrl="<your-cmnd-api-base-url>"\n  chatbotId={"<your-chatbot-id>"}\n  organizationId={"<your-organization-id>"}\n  UITools={[\n    BackgroundColorTool,\n    UsernameTool,\n    PlotGraphTool,\n    DynamicPromptTool,\n    ChatNotificationTool,\n  ]}\n/>\n'})})]})}function u(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>i});var r=t(6540);const s={},a=r.createContext(s);function o(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function i(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);