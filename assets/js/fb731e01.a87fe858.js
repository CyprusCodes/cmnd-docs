"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[6506],{1318:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>r,metadata:()=>a,toc:()=>l});var s=t(4848),i=t(8453);const r={sidebar_position:1},o="Create Custom CMND.ai Tools with Python",a={id:"getting-started/cmnd-extension-python",title:"Create Custom CMND.ai Tools with Python",description:"The CMND.ai Extension empowers users to craft custom tools, integrate them into CMND.ai, and seamlessly employ them alongside their own assistants.",source:"@site/docs/getting-started/cmnd-extension-python.md",sourceDirName:"getting-started",slug:"/getting-started/cmnd-extension-python",permalink:"/docs/getting-started/cmnd-extension-python",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/getting-started/cmnd-extension-python.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Getting Started",permalink:"/docs/category/getting-started"},next:{title:"Create Custom CMND.ai Tools with JavaScript",permalink:"/docs/getting-started/cmnd-extension-js"}},c={},l=[{value:"Getting Started",id:"getting-started",level:2},{value:"Running Your Server Publicly Using Ngrok",id:"running-your-server-publicly-using-ngrok",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",li:"li",ol:"ol",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.h1,{id:"create-custom-cmndai-tools-with-python",children:"Create Custom CMND.ai Tools with Python"}),"\n",(0,s.jsx)(n.p,{children:"The CMND.ai Extension empowers users to craft custom tools, integrate them into CMND.ai, and seamlessly employ them alongside their own assistants."}),"\n",(0,s.jsx)(n.p,{children:"To do this, CMND.ai provides FastAPI and Flask applications designed to execute various server-side tools and add them to CMND.ai dynamically based on requests. This allows users to query tool information and run specific tools by passing parameters."}),"\n",(0,s.jsx)(n.h2,{id:"getting-started",children:"Getting Started"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Clone the repository:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"git clone git@github.com:CyprusCodes/cmnd-extension-sample-python.git\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Install the requirements:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"pip install -r requirements.txt\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Navigate to the cloned directory:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"cd cmnd-extension-sample-python\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Determine whether you are using FastAPI or Flask, and navigate to the chosen directory."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Navigate to the ",(0,s.jsx)(n.code,{children:"tools.py"})," file."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Within ",(0,s.jsx)(n.code,{children:"tools.py"}),", create your tool definition by first defining data validation schema using Pydantic, then create your tool's implementation, and at the end, create your tool configuration and metadata:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'from pydantic import BaseModel, Field\nimport httpx\nimport os\n\n# Define data validation schemas using Pydantic for different functionalities\nclass WeatherCitySchema(BaseModel):\n    city: str = Field(..., title="City", description="City name required")\n\n# Define your tool\'s implementation\nasync def weather_from_location(city: str):\n    api_key = os.getenv(\'WEATHER_API_KEY\')\n    if not api_key:\n        raise ValueError("API key for weather data is not set in environment variables.")\n    url = f"https://api.openweathermap.org/data/2.5/weather?q={city}&appid={api_key}"\n    async with httpx.AsyncClient() as client:\n        response = await client.get(url)\n        return response.json()\n\n# Define your tool\'s configuration and metadata\ntool = [\n    {\n        "name": "weather_from_location",\n        "description": "Gets the weather details from a given city name",\n        "parameters": WeatherCitySchema.schema(),\n        "runCmd": weather_from_location,\n        "isDangerous": False,\n        "functionType": "backend",\n        "isLongRunningTool": False,\n        "rerun": True,\n        "rerunWithDifferentParameters": True\n    }\n]\n'})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Run your app (server):"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"python3 main.py\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Any API keys required for your tools should be stored in your ",(0,s.jsx)(n.code,{children:".env"})," file."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"running-your-server-publicly-using-ngrok",children:"Running Your Server Publicly Using Ngrok"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Create an Ngrok account and set up Ngrok on your personal computer. ",(0,s.jsx)(n.a,{href:"https://ngrok.com/docs/getting-started/?os=macos",children:"Ngrok accounts and setup"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["After setting up Ngrok on your computer, run ",(0,s.jsx)(n.code,{children:"main.py"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"python3 main.py\n"})}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["To run your app on a public URL, use the following command in your terminal. Make sure the port specified in your ",(0,s.jsx)(n.code,{children:"main.py"})," is the same as the port used by Ngrok in your command:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"ngrok http 8000\n"})}),"\n",(0,s.jsx)(n.p,{children:"Ensure the port specified in the ngrok command matches the port your app is running on."}),"\n"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var s=t(6540);const i={},r=s.createContext(i);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);